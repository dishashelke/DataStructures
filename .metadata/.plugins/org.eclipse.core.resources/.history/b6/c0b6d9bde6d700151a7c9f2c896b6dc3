
public class SortedArray {

	public static int boundryIndex(int []array, int key, boolean first) {
		int firstIndex = -1;
		int low = 0;
		int high = array.length-1;
		while(low <= high) {
			int mid = (high+low) / 2;
			if(array[mid] == key){//store the current index and search for more occurences in left half
				firstIndex = mid;
				if (first)
					high = mid - 1;
				else
					low = mid + 1;
			}
			else if(key < array[mid])//search in left half
				high = mid - 1;
			else//search in right half
				low = mid  + 1;
		}
		return firstIndex;
	}
	
	public static void main(String[] args) {
		int []sortedArray = {1,2,2,3,3,3,4,4,5,5,5,6,7,7,7,7};
		System.out.println("first occurrence of 2 is "+boundryIndex(sortedArray, 2, true));
		System.out.println("first occurrence of 5 is "+boundryIndex(sortedArray, 5, true));
	}
}
